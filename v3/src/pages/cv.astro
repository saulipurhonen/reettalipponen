---
import BaseLayout from "../layouts/BaseLayout.astro"
import { getContent } from "../lib/content"

interface CvEntry {
  date?: string
  content: string
}

interface CvSection {
  sectionTitle: string
  entries: CvEntry[]
}

interface CvData {
  title: string
  description: string
  sections: CvSection[]
}

const { data } = getContent<CvData>("fi/cv/index.md")
---

<BaseLayout title={data.title} description={data.description}>
  <div class="mx-auto max-w-6xl px-4 py-12">
    <h1 class="reveal text-5xl font-light mb-12 text-text">{data.title}</h1>
    {
      data.sections?.map((section) => (
        <section class="reveal mb-10">
          <h2 class="text-sm font-semibold uppercase tracking-widest text-accent mb-4 border-b border-surface-elevated pb-2">
            {section.sectionTitle}
          </h2>
          <ul class="space-y-3">
            {section.entries?.map((entry) => (
              <li class="flex gap-4 text-sm leading-relaxed">
                {entry.date && (
                  <span class="text-text-muted shrink-0 w-28 tabular-nums">
                    {entry.date}
                  </span>
                )}
                <span class="text-text">{entry.content}</span>
              </li>
            ))}
          </ul>
        </section>
      ))
    }
  </div>
</BaseLayout>
