---
import BaseLayout from "../../layouts/BaseLayout.astro"
import Gallery from "../../components/Gallery.astro"
import { getContent } from "../../lib/content"

interface WorksData {
  title: string
  description: string
  slug: string
  works: Array<{
    title?: string | null
    description?: string | null
    dimensions?: string | null
    year?: string | null
    materials?: string | null
    images?: Array<{
      image?: string | null
      alt?: string | null
    }> | null
  }>
}

export function getStaticPaths() {
  return [
    { params: { slug: "ceramic" } },
    { params: { slug: "installation" } },
    { params: { slug: "sculpture" } },
    { params: { slug: "customer" } },
  ]
}

const { slug } = Astro.params
const { data, content } = getContent<WorksData>(`fi/works/${slug}.md`)
---

<BaseLayout title={data.title} description={data.description}>
  <div class="mx-auto max-w-6xl px-4 py-12">
    <h1 class="reveal text-5xl font-light mb-8 text-text">{data.title}</h1>
    <Gallery items={data.works || []} />
    {
      content && (
        <div
          class="reveal mt-10 prose prose-theme max-w-none"
          set:html={content}
        />
      )
    }
  </div>
</BaseLayout>
